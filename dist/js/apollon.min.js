/*
 *  https://tomyvinci.github.io/apollon/
 *
 *  Document   : apollon.js
 *  Author     : Tomy Vinci 
 *  Description: The javascript file of Apollon
 *  Version    : v1.0.0 / Free
 *
*/
"undefined"!=typeof jQuery?function(t){t.fn.apollon=function(l){var e=t.extend({tableID:1,tableName:"Apollon",distloc:"",datatype:"html",showmode:"table",showcode:"",theme:1,ajaxload:!1,data_url:"",data:{},hide_md:[],hide_sm:[],functions:[],specialsort:[],tolist:[],filters:[],filterMaxNum:20,toimg:[],sortnbr:[],trufalse:[],action:[],columns:[],toshow:[10,25,50,100,200,500],tosort:[],loading:0,loadtxt:"Apollon",pagination:1,callback:function(){},callbackAjax:function(){},exportCSV:!1,exportXML:!1,exportPDF:!1,exportSQL:!1,english:{nodata:"No data to show !",loading:"Loading...",show_1:"Show",line_1:"entries",search:"Search",show_2:"Showing",tooo_1:"to",ooof_1:"of",line_2:"entries",noexport:"To export, you have to include exportation plugins",refresh:"Refresh",export:"Export",listmod:"Normal View",tablemod:"Table View",toshow:"To show",functions:"Functions",stats:"Statistics",graph:"Graph",selection:"Select",filtring:"Filtering",print:"Print",column:"Column",operation:"operation",value:"Value",show:"Show",abscis:"Abscissa",coordo:"Coordinates",error:"Error",typ:"Type",sum:"Sum",avg:"Average",max:"Max",min:"Min",nbr:"Number",ext:"Extent",q1:"Q1",q2:"Median",q3:"Q3",iqr:"IQR",draw:"Graph",count:"Number of times",points:"Points",lines:"Lines",lines_bg:"Lines - background",lines_step:"Lines - steps",bars:"Bars",circle:"Circle",nofilter:"Delete",true:"Yes",false:"Non"},lang:"en"},l);return this.each(function(){var l=t(this).attr("id"),o=[],a=[],n=[],i=[],s=[],r=[],d={},c="list"==e.showmode||"html"==e.showmode?0:1,h=0,p=0,f=1,m=10,u=0,v=0,$=0,b=0,g=0,_="",x=!1,w="",y=function(t,l){var o,a,n=e.sortnbr,i=e.specialsort,s=t.replace("sort_","");return function(e,r){return(o=e[t],a=r[t],(n.indexOf(s)>=0||i.indexOf(s)>=0)&&(o=o?o.toString().replace(" ",""):0,a=a?a.toString().replace(" ",""):0,o=parseFloat(o),a=parseFloat(a)),1==l||"asc"==l)?o>a?1:o<a?-1:0:o<a?1:o>a?-1:0}},C=function(t,l,o){"asc"==o.toLowerCase()&&(o=1),"desc"==o.toLowerCase()&&(o=0),e.specialsort.indexOf(l)>=0&&(l="sort_"+l),"undefined"!=typeof Storage&&(window.localStorage.setItem("apollontable_"+td+"_o",o),window.localStorage.setItem("apollontable_"+td+"_c",l)),a.sort(y(l,o)),E(t)},k=function(t){return t=(t=t.toLowerCase()).replace(/[^0-9a-z]/gi,"")},O=function(e,n){var i={},s="",r="",d=t("select.itm-sect-sel").length;if(t("#"+l+"-allContent").css({height:"auto"}),0==d){t('.apollon-sidebar a[data-filter="'+e+'"][data-value="'+n+'"]').parent().parent().find("a").removeClass("selected"),t('.apollon-sidebar a[data-filter="'+e+'"][data-value="'+n+'"]').addClass("selected"),t('.apollon-sidebar a[data-filter="'+e+'"][data-value="'+n+'"]').parent().parent().find("a span").removeClass("apollon-circle").removeClass("apollon-circle-empty").addClass("apollon-circle-empty"),t('.apollon-sidebar a[data-filter="'+e+'"][data-value="'+n+'"] span').addClass("apollon-circle").removeClass("apollon-circle-empty");for(var c,h=t("#"+l+"apollon-sidebar ul"),b=0;b<h.length;b++)s=t(c=h[b]).find("li a.selected").attr("data-filter"),r=t(c).find("li a.selected").attr("data-value"),void 0!==s&&void 0!==r&&s.length>0&&r.length>0&&(i[s]=r);if(Object.keys(i).length>0){var g=[],_={},x=1,w="";for(var b in o){for(var y in _=o[b],x=1,i)"true"==i[y]||"false"==i[y]?("true"==i[y]&&!0!=_[y]||"false"==i[y]&&!1!=_[y])&&(x=0):(w="string"==typeof(w=_[y])?w.replace(/<\/?[^>]+(>|$)/g,""):"","no_filter"!=i[y]&&(void 0===w||w!=i[y])&&(x=0));1==x&&g.push(o[b])}p=Math.ceil((u=(a=g).length)/m),f=1,v=0,$=u>m?m:u,E(l)}else a=o,p=Math.ceil((u=o.length)/m),f=1,v=0,$=u>m?m:u,E(l)}else{for(var c,h=t("select.itm-sect-sel"),b=0;b<h.length;b++)s=t(c=h[b]).attr("name"),r=t(c).find(":selected").val(),void 0!==s&&void 0!==r&&s.length>0&&r.length>0&&(i[s]=r);if(Object.keys(i).length>0){var g=[],_={},x=1,w="";for(var b in o){for(var y in _=o[b],x=1,i)"true"==i[y]||"false"==i[y]?("true"==i[y]&&!0!=_[y]||"false"==i[y]&&!1!=_[y])&&(x=0):(w="string"==typeof(w=_[y])?w.replace(/<\/?[^>]+(>|$)/g,""):w,"no_filter"!=i[y]&&(void 0===w||w!=i[y])&&(x=0));1==x&&g.push(o[b])}p=Math.ceil((u=(a=g).length)/m),f=1,v=0,$=u>m?m:u,E(l)}else a=o,p=Math.ceil((u=o.length)/m),f=1,v=0,$=u>m?m:u,E(l)}var C=t("#"+l+"apollon-sidebar").height(),k=t("#"+l+"-allContent").height();C>=k?t("#"+l+"-allContent").css({height:C+"px"}):t("#"+l+"-allContent").css({height:"auto"})},I=function(l){t(".column100").unbind("mouseover").on("mouseover",function(){var l=t(this).parent().parent().parent(),e=t(this).parent().parent(),o=t(l).data("vertable")+"",a=t(this).data("column")+"";t(e).find("."+a).addClass("hov-column-"+o),t(l).find(".row100.head ."+a).addClass("hov-column-head-"+o),t(l).find(".row100.foot ."+a).addClass("hov-column-head-"+o)}),t(".column100").unbind("mouseout").on("mouseout",function(){var l=t(this).parent().parent().parent(),e=t(this).parent().parent(),o=t(l).data("vertable")+"",a=t(this).data("column")+"";t(e).find("."+a).removeClass("hov-column-"+o),t(l).find(".row100.head ."+a).removeClass("hov-column-head-"+o),t(l).find(".row100.foot ."+a).removeClass("hov-column-head-"+o)}),t("#"+l+'dropone [type="checkbox"]').unbind("change").change(function(){i=[];for(var e=t("#"+l+"dropone").find('[type="checkbox"]'),o=0;o<e.length;o++){var a=t(e[o]).attr("name");!0==t(e[o]).prop("checked")&&i.push(a)}"undefined"!=typeof Storage&&window.localStorage.setItem("apollontable_"+td+"_1",JSON.stringify(i)),E(l)}),t("#"+l+'droptwo [type="checkbox"]').unbind("change").change(function(){s=[];for(var e=t("#"+l+"droptwo").find('[type="checkbox"]'),o=0;o<e.length;o++){var a=t(e[o]).attr("name");!0==t(e[o]).prop("checked")&&s.push(a)}"undefined"!=typeof Storage&&window.localStorage.setItem("apollontable_"+td+"_2",JSON.stringify(s))}),t("#"+l+"-txt1").unbind("change").change(function(){m=parseInt(t(this).val()),p=Math.ceil(u/m),f=1,v=0,$=m<u?m:u,"undefined"!=typeof Storage&&window.localStorage.setItem("apollontable_"+td+"_n",m),E(l)}),t("#"+l+"table .head th, #"+l+"table .foot th").unbind("click").click(function(){var o;b=t(this).html(),g=1-g,e.specialsort.indexOf(b)>=0&&(b="sort_"+b),"undefined"!=typeof Storage&&(window.localStorage.setItem("apollontable_"+td+"_o",g),window.localStorage.setItem("apollontable_"+td+"_c",b)),a.sort(y(b,g)),E(l)}),t("#"+l+"-txt2 input").unbind("keyup").keyup(function(i){_=t(this).val(),that=this;let r=_.charAt(_.length-1);"-"==r&&(_=_.substring(0,_.length-1)),a=[],u=o.length;for(var d=0,c=0;c<u;c++){for(var h=o[c],b="",g=0;g<n.length;g++){var x=h[n[g]];s.indexOf(n[g])>=0&&(b=b+x+"-")}var w="--"==r?RegExp(_+"-","gi"):RegExp(_,"gi");result=b.match(w),(result=(b.match(w)||[]).length)>0&&(a.push(o[c]),d++)}if(0==_.length?(a=o,u=o.length,f=1,p=Math.ceil(u/m),v=0,$=u>m?m:u):(p=Math.ceil((u=d)/m),f=1,v=0,$=u>m?m:u),i.keyCode||i.which,"undefined"!=typeof Storage){var y=e.tableID;window.localStorage.setItem("apollontable_"+y+"_r",_)}E(l);var C=t("#"+l+"-txt2 input"),k=2*C.val().length;C.focus(),C[0].setSelectionRange(k,k)}),t("#"+l+"-refresh").unbind("click").click(function(){"ajax"==e.datatype?A(l):(a=o,p=Math.ceil((u=o.length)/m),f=1,v=0,$=u>m?m:u,N(l))}),t("#"+l+"-print").unbind("click").click(function(){M(l)}),t("#"+l+"-what2show").unbind("click").click(function(){G(l)}),t("#"+l+"-selfilterz").unbind("click").click(function(){H(l)}),t("#"+l+"-drawgraph").unbind("click").click(function(){U(l)}),t("#"+l+"-listable").unbind("click").click(function(){Y(l)}),t("#"+l+"-func-a").unbind("click").click(function(){funcCalc(l)}),t("#"+l+"-func-v").unbind("click").click(function(){J(l)}),t("#"+l+"-func-c").unbind("click").click(function(){funcVarEca(l)}),t("#"+l+"-func-d").unbind("click").click(function(){funcDevia(l)}),t("#"+l+"-func-e").unbind("click").click(function(){funcAbsDev(l)}),t("#"+l+"-export-csv").unbind("click").click(function(){Q(l)}),t("#"+l+"-export-msexcel").unbind("click").click(function(){B(l)}),t("#"+l+"-export-xml").unbind("click").click(function(){V(l)}),t("#"+l+"-export-pdf").unbind("click").click(function(){P(l)}),t("#"+l+"-export-sql").unbind("click").click(function(){X(l)}),jQuery().tooltipster&&t(".tooltipster").tooltipster({theme:"tooltipster-shadow",animation:"fade",delay:200,interactive:!0,repositionOnScroll:!0,contentAsHTML:!0,content:lng.loading,functionBefore:function(l,e){var o=t(e.origin),a=o.attr("data-id"),n=o.attr("data-val"),i=o.attr("data-url");!0!==o.data("loaded")&&t.post(i,{id:a,val:n},function(t){l.content(t),o.data("loaded",!0)})}}),t("#"+l+"dropone-btn").unbind("click").click(function(){j(l),S(l)}),t("#"+l+"droptwo-btn").unbind("click").click(function(){j(l),q(l)}),t("#"+l+"dropthree-btn").unbind("click").click(function(){j(l),D(l)}),t("#"+l+"-fullscr").unbind("click").click(function(){0==parseInt(t(this).attr("name"))?(t("body").removeClass("apollontablefull").addClass("apollontablefull"),t("#"+l+"table").parent().parent().parent().parent().removeClass("apollontable-fullfixed").addClass("apollontable-fullfixed"),t(this).attr("name",1),t(this).html('<i class="apollon-resize-small"></i>')):(t("body").removeClass("apollontablefull"),t("#"+l+"table").parent().parent().parent().parent().removeClass("apollontable-fullfixed"),t(this).attr("name",0),t(this).html('<i class="apollon-resize-full"></i>'))}),t('[data-typ="filter"]').unbind("click").click(function(){var l=t(this).attr("data-filter"),e=t(this).attr("data-value");O(l,e)}),t("select.itm-sect-sel").unbind("change").change(function(){var l=t(this).attr("name"),e=t(this).val();O(l,e)}),t("#"+l+"-txt4 .pagination a").unbind("click").click(function(){f=parseInt(t(this).attr("name")),($=(v=parseInt((f-1)*m))+parseInt(m))>u&&($=u),t("#"+l+"-txt4 .pagination a").removeClass("is-active"),t("#"+l+'-txt4 .pagination a[name="'+f+'"]').addClass("is-active"),"undefined"!=typeof Storage&&window.localStorage.setItem("apollontable_"+td+"_p",f),E(l)}),window.onclick=function(t){var e=document.getElementsByClassName("dropbtn")[0].contains(t.target),o=document.getElementsByClassName("dropbtn")[1].contains(t.target),a=document.getElementsByClassName("dropbtn")[2].contains(t.target);e||o||a||j(l)};var r=t("#"+l+"apollon-sidebar").height(),d=t("#"+l+"-allContent").height();r>=d?t("#"+l+"-allContent").css({height:r+"px"}):t("#"+l+"-allContent").css({height:"auto"})},j=function(l){t(".dropdown-content").removeClass("show")},S=function(l){t("#"+l+"dropone").removeClass("show").addClass("show")},q=function(l){t("#"+l+"droptwo").removeClass("show").addClass("show")},D=function(l){t("#"+l+"dropthree").removeClass("show").addClass("show")},N=function(t){b=(sortcolz=e.tosort)[0],g=sortcolz[1];var l=e.specialsort;"asc"==g.toLowerCase()&&(g=1),"desc"==g.toLowerCase()&&(g=0),l.indexOf(b)>=0&&(b="sort_"+b),"undefined"!=typeof Storage&&(window.localStorage.setItem("apollontable_"+td+"_o",g),window.localStorage.setItem("apollontable_"+td+"_c",b)),a.sort(y(b,g)),L(t)},L=function(l){t("#"+l).parent().html('<div id="'+l+'-block" class="apollon-block tomythem-1"></div>');for(var o='<div class="row apollon-details"><div class="col-md-6 col-sm-12"><label><div class="dropdown" id="dropdown-1"><button id="'+l+'dropone-btn" class="dropbtn"><i class="apollon-eye"></i></button><div id="'+l+'dropone" class="dropdown-content">',r=0;r<n.length;r++)E=r+1,n[r]==b&&(M=0==g?" tobot":" totop"),o+='<a href="javascript:;"><div class="checkbox checkbox-primary"><label><input class="styled" type="checkbox"'+(i.indexOf(n[r])>-1?' checked="checked"':"")+' name="'+n[r]+'"><span>'+n[r]+"</span></label></div></a>";o+="</div></div>",o+='<select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-txt1">';for(var d=e.toshow,r=0;r<d.length;r++)o+='<option value="'+d[r]+'"'+(d[r]==m?" selected":"")+">"+d[r]+"</option>";o+="</select></label></div>",o+='<div class="col-md-6 col-sm-12 text-right"><div id="'+l+'-txt2"><label><input type="search" class="form-control form-control-sm" placeholder="'+lng.search+'" value="'+(null!=_?_:"")+'"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group me-2" role="group" aria-label="Second group"><div class="dropdown left-drop" id="dropdown-2"><button id="'+l+'droptwo-btn" class="dropbtn"><i class="apollon-search"></i></button><div id="'+l+'droptwo" class="dropdown-content">';for(var r=0;r<n.length;r++)E=r+1,n[r]==b&&(M=0==g?" tobot":" totop"),o+='<a href="javascript:;"><div class="checkbox checkbox-primary"><label><input class="styled" type="checkbox"'+(s.indexOf(n[r])>-1?' checked="checked"':"")+' name="'+n[r]+'"><span>'+n[r]+"</span></label></div></a>";o+='</div></div><div class="dropdown left-drop" id="dropdown-3"><button id="'+l+'dropthree-btn" class="dropbtn"><i class="apollon-ellipsis"></i></button><div id="'+l+'dropthree" class="dropdown-content"></div></div><button type="button" class="btn btn-primary" id="'+l+'-fullscr" name="0"><i class="apollon-resize-full"></i></button></div></div></label></div></div></div>',o+='<div class="row apollon-filters hidden" id="'+l+'-filters"></div></div><div class="apollon-content table100 tomythem-'+e.theme+'">';var c=e.filters.length>0;if(o+='<div class="apollon-sidebar'+(c?"":" hidden")+'" id="'+l+'apollon-sidebar"></div>',o+='<div class="table-responsive'+(c?" withsidebar":"")+'" id="'+l+'-allContent">',o+="</div></div>",o+='<div class="row apollon-details"><div class="col-md-6 col-sm-12 '+l+'-txt3" id="'+l+'-txt3"></div><div class="col-md-6 col-sm-12 text-right"><div class="dataTables_paginate paging_simple_numbers" id="'+l+'-txt4"></div></div></div></div>',t("#"+l+"-block").html(o),o="","list"==e.showmode){if(a.length>0){o="",E=0;for(var h=$<u?$:u,p=e.tolist,f=e.toimg,x=e.trufalse,w=e.action,r=v;r<h;r++){var y=a[r];o+='<dl class="tomylist dl-horizontal"'+(void 0!==y.color?' data-color="'+y.color+'"':"")+(void 0!==y.ID?' data-id="'+y.ID+'"':"")+">";for(var C=0;C<n.length;C++){E=C+1;var k=y?.[n[C]];if(hide_cls="",i.indexOf(n[C])>=0&&void 0!==k){if(o+='<dt class="column100 column'+E+hide_cls+'" data-column="column'+E+'" data-label="'+n[C]+'">'+n[C]+'</dt><dd class="column100 column'+E+hide_cls+'" data-column="column'+E+'" data-label="'+n[C]+'">',w.indexOf(n[C])>=0){if(void 0===k){var O=k;o+='<a id="'+O.id+'" href="javascript:'+O.click+';" class="apollonbtn btn-'+O.color+'">'+O.content+"</a>"}else for(var I=0;I<k.length;I++){var O=k[I];O?.tooltip!==void 0?o+='<a id="'+O.id+"-"+O.toolid+'" data-url="sources/ajax/load/'+O.tooltip+'.php" data-id="'+O.toolid+'" data-val="0" href="'+O.click+'" target="_blank" class="apollonbtn btn-'+O.color+' tooltipster">'+O.content+"</a>":o+='<a id="'+O.id+'" href="javascript:'+O.click+';" class="apollonbtn btn-'+O.color+'">'+O.content+"</a>"}}else if(p.indexOf(n[C])>=0){o+='<ul class="'+l+'-list">';for(var I=0;I<k.length;I++){var O=k[I];o+="<li>"+O+"</li>"}o+="</ul>"}else if(f.indexOf(n[C])>=0){var j=void 0!==k.src?' src="'+k.src+'"':"",S=void 0!==k.alt?' alt="'+k.alt+'"':"",q=void 0!==k.id?' id="'+k.id+'"':"",D=void 0!==k.class?' class="'+k.class+" "+l+'-image"':' class="'+l+'-image"';o+="<img"+j+S+q+D+" />"}else x.indexOf(n[C])>=0?o+=!0===k?'<i class="apollon-ok-circled"></i>':'<i class="apollon-circle-empty"></i>':o+=k;o+="</dd>"}}o+='</dl><hr class="small-hr"/>'}t("#"+l+"-allContent").html(o),t("#"+l+"-txt3").html(lng.show_2+" "+v+" "+lng.tooo_1+" "+h+" "+lng.ooof_1+" "+u+" "+lng.line_2)}else o='<hr class="small-hr" /><dl class="tomylist dl-horizontal" wfd-id="10"><dt>!!!</dt><dd>'+lng.nodata+'</dd></dl><hr class="small-hr" />',t("#"+l+"-txt3").html(lng.nodata),t("#"+l+"-allContent").html(o)}else if("html"==e.showmode){t("#"+l+"-allContent").html('<div id="'+l+'x" class="row nomarg"></div>'),t("#"+l+"x").addClass("row nomarg");var N=e.showcode;o="",E=0;for(var h=$<u?$:u,p=e.tolist,f=e.toimg,x=e.trufalse,w=e.action,r=v;r<h;r++){for(var y=a[r],L=N,C=0;C<n.length;C++){E=C+1;var k=y[n[C]];L=L.replaceAll("["+n[C].toUpperCase()+"]",k)}o+=L}t("#"+l+"x").html(o),a.length>0||(o='<hr class="small-hr" /><dl class="tomylist dl-horizontal" wfd-id="10"><dt>!!!</dt><dd>'+lng.nodata+'</dd></dl><hr class="small-hr" />',t("#"+l+"-txt3").html(lng.nodata),t("#"+l+"-allContent").html(o))}else{o+='<table id="'+l+'table" class="table table-apollon table-striped table-sm" data-vertable="tomythem-'+e.theme+'"><thead><tr class="row100 head">';for(var E=0,F=e.hide_sm,A=e.hide_md,r=0;r<n.length;r++){E=r+1;var M="";n[r]==b&&(M=0==g?" tobot":" totop"),hide_cls="",F.indexOf(n[r])>=0&&(hide_cls+=" hidden-sm"),A.indexOf(n[r])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[r])>=0&&(o+='<th class="column100 column'+E+M+hide_cls+'" data-column="column'+E+'" scope="col">'+n[r]+"</th>")}o+='</tr></thead><tfoot><tr class="row100 foot">';for(var E=0,F=e.hide_sm,A=e.hide_md,r=0;r<n.length;r++){E=r+1;var M="";n[r]==b&&(M=0==g?" tobot":" totop"),hide_cls="",F.indexOf(n[r])>=0&&(hide_cls+=" hidden-sm"),A.indexOf(n[r])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[r])>=0&&(o+='<th class="column100 column'+E+M+hide_cls+'" data-column="column'+E+'" scope="col">'+n[r]+"</th>")}if(o+="</tr></tfoot><tbody></tbody></table>",t("#"+l+"-allContent").html(o),a.length>0){o="",E=0;for(var h=$<u?$:u,p=e.tolist,f=e.toimg,x=e.trufalse,w=e.action,r=v;r<h;r++){var y=a[r];o+='<tr class="row100"'+(y?.color!==void 0?' data-color="'+y.color+'"':"")+(y?.ID!==void 0?' data-id="'+y.ID+'"':"")+">";for(var C=0;C<n.length;C++){E=C+1;var k=y?.[n[C]];if(hide_cls="",F.indexOf(n[C])>=0&&(hide_cls+=" hidden-sm"),A.indexOf(n[C])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[C])>=0&&void 0!==k){if(o+='<td class="column100 column'+E+hide_cls+'" data-column="column'+E+'" data-label="'+n[C]+'">',w.indexOf(n[C])>=0){if(void 0===k){var O=k;o+='<a id="'+O.id+'" href="javascript:'+O.click+';" class="apollonbtn btn-'+O.color+'">'+O.content+"</a>"}else for(var I=0;I<k.length;I++){var O=k[I];O?.tooltip!==void 0?o+='<a id="'+O.id+"-"+O.toolid+'" data-url="sources/ajax/load/'+O.tooltip+'.php" data-id="'+O.toolid+'" data-val="0" href="'+O.click+'" target="_blank" class="apollonbtn btn-'+O.color+' tooltipster">'+O.content+"</a>":o+='<a id="'+O.id+'" href="javascript:'+O.click+';" class="apollonbtn btn-'+O.color+'">'+O.content+"</a>"}}else if(p.indexOf(n[C])>=0){o+='<ul class="'+l+'-list">';for(var I=0;I<k.length;I++){var O=k[I];o+="<li>"+O+"</li>"}o+="</ul>"}else if(f.indexOf(n[C])>=0){var j=k?.src!=="undefined"?' src="'+k.src+'"':"",S=k?.alt!=="undefined"?' alt="'+k.alt+'"':"",q=k?.id!=="undefined"?' id="'+k.id+'"':"",D=k?.class!=="undefined"?' class="'+k.class+" "+l+'-image"':' class="'+l+'-image"';o+="<img"+j+S+q+D+" />"}else x.indexOf(n[C])>=0?o+=!0===k?'<i class="apollon-ok-circled"></i>':'<i class="apollon-circle-empty"></i>':o+=k;o+="</td>"}}o+="</tr>"}t("#"+l+"-allContent table tbody").html(o),t("#"+l+"-txt3").html(lng.show_2+" "+v+" "+lng.tooo_1+" "+h+" "+lng.ooof_1+" "+u+" "+lng.line_2)}else o='<tr class="row100"><td class="column100 column1" data-column="column1" colspan="'+t("#"+l+"-allContent table thead tr th").length+'">'+lng.nodata+"</td></td>",t("#"+l+"-allContent table tbody").html(o),t("#"+l+"-txt3").html(lng.nodata),t("#"+l+" tbody").html(o)}T(l)},T=function(l){var o="";o+='<a href="javascript:;" id="'+l+'-refresh"><i class="apollon-arrows-cw"></i>'+lng.refresh+"</a>",jQuery().tableExport&&(o+='<div class="like-a"><i class="apollon-download-cloud"></i> '+lng.export+'<i class="apollon-angle-right"></i><div class="second-stage">',e.exportCSV&&(o+='<a href="javascript:;" id="'+l+'-export-csv">CSV</a>'),o+='<a href="javascript:;" id="'+l+'-export-msexcel">Excel</a>',e.exportXML&&(o+='<a href="javascript:;" id="'+l+'-export-xml">XML</a>'),e.exportPDF&&(o+='<a href="javascript:;" id="'+l+'-export-pdf">PDF</a>'),e.exportSQL&&(o+='<a href="javascript:;" id="'+l+'-export-sql">SQL</a>'),o+="</div></div>"),"list"==e.showmode||"html"==e.showmode?o+='<a href="javascript:;" id="'+l+'-listable"><i class="apollon-table"></i> '+lng.tablemod+"</a>":o+='<a href="javascript:;" id="'+l+'-listable"><i class="apollon-list-bullet"></i> '+lng.listmod+"</a>",o+='<a href="javascript:;" id="'+l+'-what2show"><i class="apollon-sliders"></i> '+lng.selection+"</a>",o+='<a href="javascript:;" id="'+l+'-selfilterz"><i class="apollon-filter"></i> '+lng.filtring+"</a>",e.functions.length>0&&(o+='<div class="like-a"><i class="apollon-calc"></i> '+lng.functions+'<i class="apollon-angle-right"></i><div class="second-stage">',o+='<a href="javascript:;" id="'+l+'-func-v">'+lng.stats+"</a>",o+="</div></div>"),jQuery().plot&&(o+='<a href="javascript:;" id="'+l+'-drawgraph"><i class="apollon-chart-bar"></i> '+lng.graph+"</a>"),o+='<a href="javascript:;" id="'+l+'-print"><i class="apollon-print"></i> '+lng.print+"</a>",t("#"+l+"dropthree").html(o);var a=e.filters,n=e.filterMaxNum;if(a.length>0){for(th in o="",nbractx=0,selectaz=0,d){var i=d[th];i.length>n&&(selectaz=1)}if(0==selectaz){for(th in d){o+="<ul><li><h5>"+th+'</h5></li><li class="itm-sect itm-sect-no_filter"><a class="mail-no_filter" href="javascript:;" data-typ="filter" data-filter="" data-value=""><span class="apollon-circle"></span>'+lng.nofilter+' <em class="text-muted filter-number"></em></a></li>';for(var s,i=d[th],r=0;r<i.length;r++)!0===(s=i[r])&&(s=lng.true),!1===s&&(s=lng.false),s.length>0&&nbractx++,s=s.replace(/<\/?[^>]+(>|$)/g,""),nbractx<=n&&s.length>0&&(o+='<li class="itm-sect itm-sect-'+k(th)+"_"+k(s)+'"><a class="mail-'+k(th)+"_"+k(s)+'" href="javascript:;" data-typ="filter" data-filter="'+th+'" data-value="'+(s==lng.true?"true":s==lng.false?"false":s)+'"><span class="apollon-circle-empty"></span>'+s+' <em class="text-muted filter-number"></em></a></li>');o+="</ul>"}t("#"+l+"apollon-sidebar").html(o)}else{var c=[];for(th in d){o+="<ul><li><h5>"+th+'</h5></li><li><select class="itm-sect-sel itm-sect-'+k(th)+'" id="filter-select-'+k(th)+'" name="'+th+'"><option value="no_filter">'+lng.nofilter+"</option>";var s,i=d[th];c.push("#filter-select-"+k(th));for(var r=0;r<i.length;r++)!0===(s=i[r])&&(s=lng.true),!1===s&&(s=lng.false),nbractx++,(s=s.replace(/<\/?[^>]+(>|$)/g,"")).length>0&&(o+='<option value="'+(s==lng.true?"true":s==lng.false?"false":s)+'">'+s+"</option>");o+="</select></li></ul>"}t("#"+l+"apollon-sidebar").html(o),jQuery().chosen&&c.length>0&&t(c.join(",")).chosen({width:"100%"})}var h=t("#"+l+"apollon-sidebar").height(),p=t("#"+l+"-allContent").height();h>=p?t("#"+l+"-allContent").css({height:h+"px"}):t("#"+l+"-allContent").css({height:"auto"})}F(l)},E=function(l){var o="",s=e.showmode;if(1==c&&(s="table"),0==c&&"list"!=s&&"html"!=s&&(s="list"),"list"==s){if(a.length>0){o="",D=0;for(var r=$<u?$:u,d=e.tolist,h=e.toimg,p=e.trufalse,f=e.action,m=v;m<r;m++){var _=a[m];o+='<dl class="tomylist dl-horizontal"'+(_?.color!==void 0?' data-color="'+_.color+'"':"")+(_?.ID!==void 0?' data-id="'+_.ID+'"':"")+">";for(var x=0;x<n.length;x++){D=x+1;var w=_?.[n[x]];if(hide_cls="",i.indexOf(n[x])>=0&&void 0!==w){if(o+='<dt class="column100 column'+D+hide_cls+'" data-column="column'+D+'" data-label="'+n[x]+'">'+n[x]+'</dt><dd class="column100 column'+D+hide_cls+'" data-column="column'+D+'" data-label="'+n[x]+'">',f.indexOf(n[x])>=0){if(void 0===w){var y=w;o+='<a id="'+y.id+'" href="javascript:'+y.click+';" class="apollonbtn btn-'+y.color+'">'+y.content+"</a>"}else for(var C=0;C<w.length;C++){var y=w[C];y?.tooltip!==void 0?o+='<a id="'+y.id+"-"+y.toolid+'" data-url="sources/ajax/load/'+y.tooltip+'.php" data-id="'+y.toolid+'" data-val="0" href="'+y.click+'" target="_blank" class="apollonbtn btn-'+y.color+' tooltipster">'+y.content+"</a>":o+='<a id="'+y.id+'" href="javascript:'+y.click+';" class="apollonbtn btn-'+y.color+'">'+y.content+"</a>"}}else if(d.indexOf(n[x])>=0){o+='<ul class="'+l+'-list">';for(var C=0;C<w.length;C++){var y=w[C];o+="<li>"+y+"</li>"}o+="</ul>"}else if(h.indexOf(n[x])>=0){var k=w?.src!==void 0?' src="'+w.src+'"':"",O=w?.alt!==void 0?' alt="'+w.alt+'"':"",I=w?.id!==void 0?' id="'+w.id+'"':"",j=w?.class!==void 0?' class="'+w.class+" "+l+'-image"':' class="'+l+'-image"';o+="<img"+k+O+I+j+" />"}else p.indexOf(n[x])>=0?o+=!0===w?'<i class="apollon-ok-circled"></i>':'<i class="apollon-circle-empty"></i>':o+=w;o+="</dd>"}}o+='</dl><hr class="small-hr"/>'}t("#"+l+"-allContent").html(o),t("#"+l+"-txt3").html(lng.show_2+" "+v+" "+lng.tooo_1+" "+r+" "+lng.ooof_1+" "+u+" "+lng.line_2)}else o='<hr class="small-hr" /><dl class="tomylist dl-horizontal" wfd-id="10"><dt>!!!</dt><dd>'+lng.nodata+'</dd></dl><hr class="small-hr" />',t("#"+l+"-txt3").html(lng.nodata),t("#"+l+"-allContent").html(o)}else if("html"==s){t("#"+l+"-allContent").html('<div id="'+l+'x" class="row nomarg"></div>'),t("#"+l+"x").addClass("row nomarg");var S=e.showcode;o="",D=0;for(var r=$<u?$:u,d=e.tolist,h=e.toimg,p=e.trufalse,f=e.action,m=v;m<r;m++){for(var _=a[m],q=S,x=0;x<n.length;x++){D=x+1;var w=_[n[x]];q=q.replaceAll("["+n[x].toUpperCase()+"]",w)}o+=q}t("#"+l+"x").html(o),a.length>0||(o='<hr class="small-hr" /><dl class="tomylist dl-horizontal" wfd-id="10"><dt>!!!</dt><dd>'+lng.nodata+'</dd></dl><hr class="small-hr" />',t("#"+l+"-txt3").html(lng.nodata),t("#"+l+"-allContent").html(o))}else{o+='<table id="'+l+'table" class="table table-apollon table-striped table-sm" data-vertable="tomythem-'+e.theme+'"><thead><tr class="row100 head">';for(var D=0,N=e.hide_sm,L=e.hide_md,m=0;m<n.length;m++){D=m+1;var T="";n[m]==b&&(T=0==g?" tobot":" totop"),hide_cls="",N.indexOf(n[m])>=0&&(hide_cls+=" hidden-sm"),L.indexOf(n[m])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[m])>=0&&(o+='<th class="column100 column'+D+T+hide_cls+'" data-column="column'+D+'" scope="col">'+n[m]+"</th>")}o+='</tr></thead><tfoot><tr class="row100 foot">';for(var D=0,N=e.hide_sm,L=e.hide_md,m=0;m<n.length;m++){D=m+1;var T="";n[m]==b&&(T=0==g?" tobot":" totop"),hide_cls="",N.indexOf(n[m])>=0&&(hide_cls+=" hidden-sm"),L.indexOf(n[m])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[m])>=0&&(o+='<th class="column100 column'+D+T+hide_cls+'" data-column="column'+D+'" scope="col">'+n[m]+"</th>")}if(o+="</tr></tfoot><tbody></tbody></table>",t("#"+l+"-allContent").html(o),a.length>0){o="",D=0;for(var r=$<u?$:u,d=e.tolist,h=e.toimg,p=e.trufalse,f=e.action,m=v;m<$;m++){var _=a[m];o+='<tr class="row100"'+(_?.color!==void 0?' data-color="'+_.color+'"':"")+(_?.ID!==void 0?' data-id="'+_.ID+'"':"")+">";for(var x=0;x<n.length;x++){D=x+1;var w=_?.[n[x]];if(hide_cls="",N.indexOf(n[x])>=0&&(hide_cls+=" hidden-sm"),L.indexOf(n[x])>=0&&(hide_cls+=" hidden-md"),i.indexOf(n[x])>=0&&void 0!==w){if(o+='<td class="column100 column'+D+hide_cls+'" data-column="column'+D+'" data-label="'+n[x]+'">',f.indexOf(n[x])>=0){if(void 0===w){var y=w;o+='<a id="'+y.id+'" href="javascript:'+y.click+';" class="apollonbtn btn-'+y.color+'">'+y.content+"</a>"}else for(var C=0;C<w.length;C++){var y=w[C];y?.tooltip!==void 0?o+='<a id="'+y.id+"-"+y.toolid+'" data-url="sources/ajax/load/'+y.tooltip+'.php" data-id="'+y.toolid+'" data-val="0" href="'+y.click+'" target="_blank" class="apollonbtn btn-'+y.color+' tooltipster">'+y.content+"</a>":o+='<a id="'+y.id+'" href="javascript:'+y.click+';" class="apollonbtn btn-'+y.color+'">'+y.content+"</a>"}}else if(d.indexOf(n[x])>=0){o+='<ul class="'+l+'-list">';for(var C=0;C<w.length;C++){var y=w[C];o+="<li>"+y+"</li>"}o+="</ul>"}else if(h.indexOf(n[x])>=0){var k=w?.src!=="undefined"?' src="'+w.src+'"':"",O=w?.alt!=="undefined"?' alt="'+w.alt+'"':"",I=w?.id!=="undefined"?' id="'+w.id+'"':"",j=w?.class!=="undefined"?' class="'+w.class+" "+l+'-image"':' class="'+l+'-image"';o+="<img"+k+O+I+j+" />"}else p.indexOf(n[x])>=0?o+=!0===w?'<i class="apollon-ok-circled"></i>':'<i class="apollon-circle-empty"></i>':o+=w;o+="</td>"}}o+="</tr>"}t("#"+l+"-allContent table tbody").html(o),t("#"+l+"-txt3").html(lng.show_2+" "+v+" "+lng.tooo_1+" "+r+" "+lng.ooof_1+" "+u+" "+lng.line_2)}else o='<tr class="row100"><td class="column100 column1" data-column="column1" colspan="'+t("#"+l+"-allContent table thead tr th").length+'">'+lng.nodata+"</td></td>",t("#"+l+"-allContent table tbody").html(o),t("#"+l+"-txt3").html(lng.nodata),t("#"+l+" tbody").html(o)}t("#"+l+"-allContent").css({height:"auto"}),t("#"+l+"-filters").addClass("hidden"),F(l);var E=t("#"+l+"apollon-sidebar").height(),A=t("#"+l+"-allContent").height();E>=A?t("#"+l+"-allContent").css({height:E+"px"}):t("#"+l+"-allContent").css({height:"auto"})},F=function(l){var o=1,a=1,n=p-2,i=e.pagination;p<6?(o=1,a=p):f<5?(o=1,a=5):f>=n?(o=p-4,a=p):(o=f-2,a=f+2);for(var s='<div class="pagination p'+[1,1,2,3,9,10,12][i]+'"><ul>',r=o;r<=a;r++)s+="<a"+(r==f?' class="is-active"':"")+' href="javascript:;" name="'+r+'">'+r+"</a>";s+="</ul></div>",1==p&&(s=""),t("#"+l+"-txt4").html(s),I(l)},A=function(l){var i=e.filters,s=i.length>0;if(s)for(var r=0;r<i.length;r++)d[i[r]]=[];t.post(e.ajaxurl,e.data,function(r){if(/^{.*}$/.test(r)&&"object"==typeof(r=JSON.parse(r))){r.data,o=r.data;for(var c=0;c<o.length;c++){var h=o[c];if(s)for(var b=0;b<n.length;b++)i.indexOf(n[b])>-1&&0>d[n[b]].indexOf(h[n[b]])&&d[n[b]].push(h[n[b]])}a=o;for(var g=t(this).find("thead tr th"),c=0;c<g.length;c++)n.push(t(g[c]).html());p=Math.ceil((u=o.length)/m),f=1,v=0,$=u>m?m:u,N(l),(0,e.callbackAjax)(o)}})},M=function(t){0==c&&Y(t);var l=window.open("","","height=400,width=600");l.document.write("<html><head><title>Apollon</title>"),l.document.write('<style type = "text/css">'),l.document.write("body{font-family: Arial;font-size: 10pt;}table{border: 1px solid #ccc;border-collapse: collapse;}table th{background-color: #F7F7F7;color: #333;font-weight: bold;}table th, table td{padding: 5px;border: 1px solid #ccc;}"),l.document.write("</style>"),l.document.write("</head>"),l.document.write("<body>");var e=document.getElementById(t+"table").innerHTML;l.document.write('<table cellspacing="0" rules="all" border="1">'+e+"</table>"),l.document.write("</body>"),l.document.write("</html>"),l.document.close(),l.print()},Q=function(l){0==c&&Y(l),jQuery().tableExport?t("#"+l+"table").tableExport({type:"csv",csvSeparator:";",displayTableName:!0,fileName:e.tableName}):R(lng.noexport)},B=function(l){0==c&&Y(l),jQuery().tableExport?t("#"+l+"table").tableExport({type:"excel",displayTableName:!0,fileName:e.tableName,mso:{fileFormat:"xlsxhtml"}}):R(lng.noexport)},V=function(l){0==c&&Y(l),jQuery().tableExport?t("#"+l+"table").tableExport({type:"excel",displayTableName:!0,fileName:e.tableName,mso:{fileFormat:"xmlss",worksheetName:["TomyTable","Table 2","Table 3"]}}):R(lng.noexport)},P=function(l){0==c&&Y(l),jQuery().tableExport?t("#"+l+"table").tableExport({type:"pdf",displayTableName:!0,fileName:e.tableName,jspdf:{orientation:"l",format:"a4",margins:{left:10,right:10,top:20,bottom:20},autotable:{styles:{fillColor:"inherit",textColor:"inherit"},tableWidth:"auto"}}}):R(lng.noexport)},X=function(l){0==c&&Y(l),jQuery().tableExport?t("#"+l+"table").tableExport({type:"sql",displayTableName:!0,fileName:e.tableName}):R(lng.noexport)},R=function(e){var o=t("#"+l+"-filters");o.removeClass("hidden");var a='<div class="alert alert-danger"><strong>'+lng.error+"</strong> "+e+"</div>";o.html(a)},G=function(l){if(1==h){var e=t("#"+l+"-filters");e.removeClass("hidden");for(var i='<div class="col-md-12 col-sm-12 text-center" id="'+l+'-insertContent"></div><div class="col-md-3 col-sm-12"><label>'+lng.column+'<br/><select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-insertContent-1">',s=0;s<n.length;s++)nbr=s+1,n[s]==b&&(w=0==g?" tobot":" totop"),i+='<option value="'+n[s]+'">'+n[s]+"</option>";i+='</select></label></div><div class="col-md-3 col-sm-12"><label>'+lng.operation+'<br><select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-insertContent-2"><option value="0">=</option><option value="1">&gt;</option><option value="2">&gt;=</option><option value="3">&lt;</option><option value="4">&lt;=</option><option value="5">!=</option></select></label></div><div class="col-md-3 col-sm-12"><label>'+lng.value+'<br><input type="text" id="'+l+'-insertContent-3" class="form-control form-control-sm" placeholder="'+lng.value+'"></label></div><div class="col-md-3 col-sm-12 text-right"><button type="button" class="btn btn-primary" id="insertContent-btn">'+lng.show+"</button></div><hr/>",e.html(i),jQuery().chosen&&t("#"+l+"-insertContent-1, #"+l+"-insertContent-2").chosen({width:"100%"}),t("#insertContent-btn").unbind("click").click(function(){e.addClass("hidden");var i=t("#"+l+"-insertContent-1").val(),s=parseInt(t("#"+l+"-insertContent-2").val()),r=parseFloat(t("#"+l+"-insertContent-3").val());a=[],u=o.length;for(var d=0,c=0;c<u;c++)for(var h=o[c],b=0;b<n.length;b++){var g=h[n[b]];n[b]==i&&(0==s&&g==r||1==s&&g>r||2==s&&g>=r||3==s&&g<r||4==s&&g<=r||5==s&&g!=r)&&(a.push(o[c]),d++)}p=Math.ceil((u=d)/m),f=1,($=(v=0)+parseInt(m))>u&&($=u),E(l)})}},H=function(l){var a=t("#"+l+"-filters"),i="",s="";a.removeClass("hidden");for(var r=0;r<n.length;r++)s+='<option value="'+n[r]+'">'+n[r]+"</option>";i+='<div class="col-md-12 col-sm-12 text-center" id="'+l+'-insertContent"></div><div class="col-md-2 col-sm-12"></div>',i+='<div class="col-md-5 col-sm-12"><label>'+lng.column+'<br/><select class="custom-select custom-select-sm form-control form-control-sm" multiple id="'+l+'-insertContent-1">'+s+"</select></label></div>",i+='<div class="col-md-2 col-sm-12"></div><div class="col-md-3 col-sm-12 text-right"><button type="button" class="btn btn-primary" id="insertContent-btn">'+lng.show+"</button></div><hr/>",a.html(i),jQuery().chosen&&t("#"+l+"-insertContent-1").chosen({width:"100%"}),t("#insertContent-btn").unbind("click").click(function(){a.addClass("hidden");var n=t("#"+l+"-insertContent-1").val();e.filters=n,d={};for(var i=0;i<n.length;i++)d[n[i]]=[];u=o.length;for(var s={},r=0;r<o.length;r++)for(var c=o[r],i=0;i<n.length;i++)0>d[n[i]].indexOf(c[n[i]])&&(d[n[i]].push(c[n[i]]),s[n[i]]=s[n[i]]+1);N(l)})},U=function(l){if(1==h){var e=t("#"+l+"-filters");e.removeClass("hidden");for(var o="",i="",s="",d=0;d<r.length;d++)o+='<option value="'+r[d]+'">'+r[d]+"</option>";for(var d=0;d<n.length;d++)i+='<option value="'+n[d]+'">'+n[d]+"</option>";o+='<option value="count">'+lng.count+"</option>",s+='<div class="col-md-12 col-sm-12 text-center" id="'+l+'-insertContentsta"></div>',s+='<div class="col-md-3 col-sm-12"><label>'+lng.abscis+'<br/><select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-drawgraph-1">'+i+"</select></label></div>",s+='<div class="col-md-3 col-sm-12"><label>'+lng.coordo+'<br><select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-drawgraph-2">'+o+"</select></label></div>",s+='<div class="col-md-3 col-sm-12"><label>'+lng.typ+'<br><select class="custom-select custom-select-sm form-control form-control-sm" id="'+l+'-drawgraph-3"><option value="0">'+lng.points+'</option><option value="1">'+lng.lines+'</option><option value="2">'+lng.lines_bg+'</option><option value="3">'+lng.lines_step+'</option><option value="4">'+lng.bars+"</option></select></label></div>",s+='<div class="col-md-3 col-sm-12 text-right"><button type="button" class="btn btn-primary" id="drawgraph-btn">'+lng.draw+"</button></div><hr/>",e.html(s),jQuery().chosen&&t("#"+l+"-drawgraph-1, #"+l+"-drawgraph-2, #"+l+"-drawgraph-3").chosen({width:"100%"}),t("#drawgraph-btn").unbind("click").click(function(){var e=t("#"+l+"-drawgraph-1").val(),o=t("#"+l+"-drawgraph-2").val(),i=t("#"+l+"-drawgraph-3").val();if(null!==o){t("#"+l+"-insertContentsta").html('<div class="drawgraph-flot-prnt"><div id="drawgraph-flot" class="drawgraph-flot"></div></div>');var s=[],r=[],d=[],c=0,h=0,p={},f=[];if("count"==o){for(var m=0;m<u;m++)for(var v=0;v<n.length;v++){var $=a[m];n[v]==e&&(f.indexOf($[n[v]])>-1?p[$[n[v]]]=p[$[n[v]]]+1:(f.push($[n[v]]),p[$[n[v]]]=1))}var b,m=0;for(var g in p)b=p[g],s.push([m,g]),d.push([m,b]),b>h&&(h=b+.2*b),m++;r.push({label:e,data:d})}else for(var m=0;m<u;m++)for(var $=a[m],v=0;v<n.length;v++){var _=parseFloat($[n[v]]);n[v]==e&&s.push([m,$[n[v]]]),o.indexOf(n[v])>=0&&(d?.[v]===void 0&&(d[v]=[]),d[v].push([m,_]),_>h&&(h=_+.2*_),0==c?c=_:_<c&&(c=_-.2*_))}for(var v=0;v<n.length;v++)o.indexOf(n[v])>=0&&r.push({label:n[v],data:d[v]});t.plot("#drawgraph-flot",r,{series:[{points:{show:!0}},{points:{show:!0},lines:{show:!0}},{points:{show:!0},lines:{show:!0,fill:!0}},{lines:{show:!0,steps:!0,fill:!0}},{bars:{show:!0}}][i],xaxis:{ticks:s},yaxis:{min:c,max:h}}),t("<div id='apollontooltip'></div>").css({position:"absolute",display:"none",border:"1px solid #fdd",padding:"2px","z-index":9999999999,"background-color":"#fee",opacity:.8}).appendTo("body"),t("#drawgraph-btn").bind("plothover",function(l,e,o){if(o){var a=o.datapoint[0].toFixed(2),n=o.datapoint[1].toFixed(2);t("#apollontooltip").html(o.series.label+" of "+a+" = "+n).css({top:o.pageY+5,left:o.pageX+5}).fadeIn(200)}else t("#apollontooltip").hide()})}})}},Y=function(l){var e="";e=0==(c=1-c)?'<i class="apollon-table"></i> '+lng.tablemod:'<i class="apollon-list-bullet"></i> '+lng.listmod,t("#"+l+"-listable").html(e),"undefined"!=typeof Storage&&window.localStorage.setItem("apollontable_"+td+"_s",c),E(l)},J=function(l){if(1==h){var e,o,n=0,i={sum:{},avg:{},max:{},min:{},ext:{},nbr:{},q1:{},q2:{},q3:{},iqr:{}},s={},d={sum:lng.sum,avg:lng.avg,max:lng.max,min:lng.min,nbr:lng.nbr,ext:lng.ext,q1:lng.q1,q2:lng.q2,q3:lng.q3,iqr:lng.iqr},c=t("#"+l+"-filters");c.removeClass("hidden");for(var p='<div class="col-md-12 col-sm-12 text-center" id="tomytable-insertContent"><table class="result-table"><thead><tr><th scope="col">-</th>',f=0;f<r.length;f++)p+='<th scope="col">'+r[f]+"</th>",i.sum[r[f]]=0,i.avg[r[f]]=0,i.max[r[f]]=0,i.ext[r[f]]=0,i.min[r[f]]=null,s[r[f]]=[],i.q1[r[f]]=null,i.q2[r[f]]=null,i.q3[r[f]]=null,i.iqr[r[f]]=null;p+="</tr></thead><tbody>";for(var m=0;m<a.length;m++){n++;for(var f=0;f<r.length;f++)e=parseFloat(e=(e=a[m][r[f]]).replace(/ /g,"")),i.nbr[r[f]]=n,i.sum[r[f]]+=e,e>i.max[r[f]]&&(i.max[r[f]]=e),1==n?i.min[r[f]]=e:e<i.min[r[f]]&&(i.min[r[f]]=e),s[r[f]].push(e)}for(var u=Math.ceil(n/4)-1,v=Math.floor(3*n/4)-1,f=0;f<r.length;f++){var $=s[r[f]];if($=$.sort(function(t,l){return t-l}),i.ext[r[f]]=parseFloat(i.max[r[f]])-parseFloat(i.min[r[f]]),i.avg[r[f]]=parseFloat(i.sum[r[f]])/n,i.q1[r[f]]=parseFloat($[u]),i.q3[r[f]]=parseFloat($[v]),i.iqr[r[f]]=parseFloat($[v])-parseFloat($[u]),n%2==1){var b=(n+1)/2-1;i.q2[r[f]]=parseFloat($[b])}else{var g=n/2-1,_=g+1;i.q2[r[f]]=(parseFloat($[g])+parseFloat($[_]))/2}}for(z in i){o=i[z],p+="<tr><th>"+d[z]+"</th>";for(var f=0;f<r.length;f++)p+="<td>"+(isNaN(o[r[f]])?"/":Math.round(100*o[r[f]])/100)+"</td>";p+="</tr>"}p+="</tbody></table><hr/></div>",c.html(p)}},W=function(){return o},K=function(){return a},Z=function(t){for(var l,e={},a=0;a<o.length;a++)(l=o[a])?.ID!==void 0&&l?.ID==t&&(e=l),l?.id!==void 0&&l?.id==t&&(e=l);return e},tt=function(t,l){for(var e,a=null,n=0;n<o.length;n++)(e=o[n])?.ID!==void 0&&e?.ID==t&&(a=e?.[l]),e?.id!==void 0&&e?.id==t&&(a=e?.[l]);return a},tl=function(){"ajax"==e.datatype?A(l):(a=o,p=Math.ceil((u=o.length)/m),f=1,v=0,$=u>m?m:u,N(l))},te=function(t,l){for(var e,a=!1,n=0;n<o.length;n++)((e=o[n])?.ID!==void 0&&e?.ID==t||e?.id!==void 0&&e?.id==t)&&(o[n]=l,a=!0);return a},to=function(t,l){return o.push(t),!0===l&&tl(),!0},ta=function(t,l,e){for(var a,n=!1,i=0;i<o.length;i++)((a=o[i])?.ID!==void 0&&a?.ID==t||a?.id!==void 0&&a?.id==t)&&(o[i][l]=e,n=!0);return n},tn=function(t){for(var l,e=[],a=!1,n=0;n<o.length;n++)((l=o[n])?.ID!==void 0&&l?.ID!=t||l?.id!==void 0&&l?.id!=t)&&(e.push(o[n]),a=!0);return o=e,a},ti=function(t,l){for(var e,a=!1,n=0;n<o.length;n++)((e=o[n])?.ID!==void 0&&e?.ID==t||e?.id!==void 0&&e?.id==t)&&(tp.indexOf(l)?o[n][l]=0:o[n][l]="",a=!0);return a},ts=e.lang;lng="en"==ts?e.english:lng[ts],("ar"==ts||"iw"==ts)&&t("head").append('<link rel="stylesheet" href="'+e.distloc+'css/rtl-apollon.min.css" type="text/css" />');var tr=e.columns,td=e.tableID;if(tr.length>0)n=tr,i=tr,s=tr;else{for(var tc=t(this).find("thead tr th"),th=0;th<tc.length;th++)n.push(t(tc[th]).html());e.columns=n,i=n,s=n}for(var tp=e.sortnbr,tf=e.specialsort,th=0;th<n.length;th++)(tp.indexOf(n[th])>=0||tf.indexOf(n[th])>=0)&&r.push(n[th]);if(r.length>0&&(h=1),c="list"==e.showmode||"html"==e.showmode?0:1,t(this).attr("data-vertable",e.theme),t(this).parent().addClass(e.theme),"html"==e.datatype){var tm=e.filters,x=tm.length>0,tu=t(this).find("tbody tr");if(x)for(var th=0;th<tm.length;th++)d[tm[th]]=[];for(var th=0;th<tu.length;th++){for(var tv=t(tu[th]).find("td"),t$={},tb=0;tb<tv.length;tb++)t$[n[tb]]=t(tv[tb]).html(),t$[n[tb]]=t$[n[tb]].replace(/(\r\n|\n|\r| )/gm,"");a.push(t$),o.push(t$),u++}u<m?(p=1,$=u):(p=Math.ceil(u/m),$=m);for(var th=0;th<o.length;th++){var tg=o[th];if(x)for(var t_=0;t_<n.length;t_++)tm.indexOf(n[t_])>-1&&0>d[n[t_]].indexOf(tg[n[t_]])&&d[n[t_]].push(tg[n[t_]])}N(l),(callback=e.callback)(o)}else if("js"==e.datatype){var tm=e.filters,x=tm.length>0;if(x)for(var th=0;th<tm.length;th++)d[tm[th]]=[];o=e.data,a=e.data,(u=o.length)<m?(p=1,$=u):(p=Math.ceil(u/m),$=m);for(var th=0;th<o.length;th++){var tg=o[th];if(x)for(var t_=0;t_<n.length;t_++)tm.indexOf(n[t_])>-1&&0>d[n[t_]].indexOf(tg[n[t_]])&&d[n[t_]].push(tg[n[t_]])}N(l),(callback=e.callback)(o)}else"ajax"==e.datatype?A(l):(o=[],a=[],n=[],p=0,f=1,m=10,u=0,v=0,$=0,b=0,g=0,_="",N(l),(callback=e.callback)(o));if("undefined"!=typeof Storage){c=window.localStorage.getItem("apollontable_"+td+"_s"),g=window.localStorage.getItem("apollontable_"+td+"_o"),b=window.localStorage.getItem("apollontable_"+td+"_c"),m=window.localStorage.getItem("apollontable_"+td+"_n");var tx=e.toshow;m||(m=tx[0]),_=window.localStorage.getItem("apollontable_"+td+"_r"),(f=window.localStorage.getItem("apollontable_"+td+"_p"))||(f=1)}this.getTable=function(){return W()},this.getFiltredTable=function(){return K()},this.getLine=function(t){return Z(t)},this.getColumn=function(t,l){return tt(t,l)},this.refresh=function(){tl()},this.editLine=function(t,l){return te(t,l)},this.addLine=function(t,l){return to(t,l)},this.editColumn=function(t,l,e){return ta(t,l,e)},this.removeLine=function(t){return tn(t)},this.removeColumn=function(t,l){return ti(t,l)},this.setFilter=function(t,l){O(t,l)},this.xsort=function(t,e){C(l,t,e)}})}}(jQuery):console.error(">> jQuery.js is required to use ApollonJS !! <<");